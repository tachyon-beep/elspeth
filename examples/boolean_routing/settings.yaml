source:
  plugin: csv
  on_success: gate_in
  options:
    path: examples/boolean_routing/input.csv
    schema:
      mode: fixed
      fields:
      - 'id: int'
      - 'message: str'
      - 'approved: str'
    on_validation_failure: discard
gates:
- name: approval_check
  input: gate_in
  condition: row['approved'] == 'true'
  routes:
    'true': approved
    'false': rejected
sinks:
  approved:
    plugin: csv
    options:
      path: examples/boolean_routing/output/approved.csv
      schema:
        mode: fixed
        fields:
        - 'id: int'
        - 'message: str'
        - 'approved: str'
  rejected:
    plugin: csv
    options:
      path: examples/boolean_routing/output/rejected.csv
      schema:
        mode: fixed
        fields:
        - 'id: int'
        - 'message: str'
        - 'approved: str'
landscape:
  url: sqlite:///examples/boolean_routing/runs/audit.db
