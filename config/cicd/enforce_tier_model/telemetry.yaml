per_file_rules:
- pattern: telemetry/exporters/*
  rules:
  - R1
  - R2
  - R3
  - R4
  - R5
  - R6
  - R9
  reason: Telemetry services are external (Tier 3) - all defensive patterns legitimate
  expires: null
allow_hits:
- key: telemetry/manager.py:R1:TelemetryManager:_export_loop:fp=ff397de66d5f4424
  owner: architecture
  reason: Optional field access at trust boundary
  safety: Code reviewed - legitimate pattern
  expires: '2026-05-02'
- key: telemetry/manager.py:R6:TelemetryManager:_export_loop:fp=32610a7c35236337
  owner: architecture
  reason: Silent recovery with explicit error handling path
  safety: Code reviewed - legitimate pattern
  expires: '2026-05-02'
- key: telemetry/manager.py:R4:TelemetryManager:_export_loop:fp=3ea16efca6fcd5fe
  owner: architecture
  reason: Broad exception handling at external boundary with logging
  safety: Code reviewed - legitimate pattern
  expires: '2026-05-02'
- key: telemetry/manager.py:R4:TelemetryManager:_dispatch_to_exporters:fp=b7b65fe92a35a6ba
  owner: architecture
  reason: Broad exception handling at external boundary with logging
  safety: Code reviewed - legitimate pattern
  expires: '2026-05-02'
- key: telemetry/manager.py:R1:TelemetryManager:_dispatch_to_exporters:fp=92ee2fac6c58d04c
  owner: architecture
  reason: Optional field access at trust boundary
  safety: Code reviewed - legitimate pattern
  expires: '2026-05-02'
- key: telemetry/manager.py:R6:TelemetryManager:handle_event:fp=8d294302ec31bc67
  owner: architecture
  reason: Silent recovery with explicit error handling path
  safety: Code reviewed - legitimate pattern
  expires: '2026-05-02'
- key: telemetry/manager.py:R6:TelemetryManager:handle_event:fp=fa4b085fe4c0cf82
  owner: architecture
  reason: Silent recovery with explicit error handling path
  safety: Code reviewed - legitimate pattern
  expires: '2026-05-02'
- key: telemetry/manager.py:R6:TelemetryManager:_drop_oldest_and_enqueue_newest:fp=53fc7c7e0502578c
  owner: architecture
  reason: Queue overflow handling at telemetry backpressure boundary
  safety: Queue.Empty indicates race during overflow handling; safe fallback keeps newest event path explicit
  expires: '2026-05-02'
- key: telemetry/manager.py:R7:TelemetryManager:_drop_oldest_and_enqueue_newest:fp=ac85ea3916656c87
  owner: architecture
  reason: Sentinel reinsertion best-effort during shutdown race
  safety: Suppression is limited to queue.Full while preserving shutdown semantics; no data integrity impact
  expires: '2026-05-02'
- key: telemetry/manager.py:R6:TelemetryManager:_drop_oldest_and_enqueue_newest:fp=7fa30018543175a0
  owner: architecture
  reason: Silent recovery with explicit error handling path
  safety: Code reviewed - legitimate pattern
  expires: '2026-05-02'
- key: telemetry/manager.py:R4:TelemetryManager:flush:fp=39cc888a5b827e3f
  owner: architecture
  reason: Broad exception handling at external boundary with logging
  safety: Code reviewed - legitimate pattern
  expires: '2026-05-02'
- key: telemetry/manager.py:R6:TelemetryManager:close:fp=c586b348ae92cf9e
  owner: architecture
  reason: Silent recovery with explicit error handling path
  safety: Code reviewed - legitimate pattern
  expires: '2026-05-02'
- key: telemetry/manager.py:R6:TelemetryManager:close:fp=27c066edb4624884
  owner: architecture
  reason: Silent recovery with explicit error handling path
  safety: Code reviewed - legitimate pattern
  expires: '2026-05-02'
- key: telemetry/manager.py:R4:TelemetryManager:close:fp=b23b6628a0688f03
  owner: architecture
  reason: Broad exception handling at external boundary with logging
  safety: Code reviewed - legitimate pattern
  expires: '2026-05-02'
