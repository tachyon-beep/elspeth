# Status Note (2025-05)

## Recently Completed
- Added Jinja-based prompt engine and updated ExperimentRunner/SuiteRunner to use prompt defaults, criteria templates, and middleware hooks.
- Implemented metrics plugins, adaptive sinks (blob/local bundle/repo/signed), and mock/local plugins for offline runs.
- Phase 7 completed: sample suite (`config/sample_suite`), bootstrap tooling (`scripts/bootstrap.sh`, `Makefile`), and documentation refresh (README, AGENTS, phase notes).
- Introduced LLM middleware (audit logger, prompt shield), adaptive rate limiter, and concurrency-aware runner execution with tests (`tests/test_llm_middleware.py`, `tests/test_experiments.py::test_experiment_runner_concurrency`).
<!-- UPDATE 2025-10-12: Azure ML telemetry, analytics report sink, and artifact chaining have since been delivered; see `src/elspeth/plugins/llms/middleware_azure.py`, `src/elspeth/plugins/outputs/analytics_report.py`, and `src/elspeth/core/artifact_pipeline.py`. -->

## Outstanding Work
1. **Azure ML Telemetry** – port legacy logging (metric rows, config diffs) into optional middleware/sink.
2. **DevOps/Excel/Zip Archiving** – refactor legacy exporters/archivers into sink plugins (Excel bundle, DevOps uploader, environment capture).
3. **Advanced Statistics** – port `StatsAnalyzer` functionality (Bayesian comparisons, effect sizes, power analysis) as optional aggregation plugins with optional deps.
4. **Schema & Preflight Validation** – reintroduce experiment schema validation, duplicate detection, API call/time/cost estimates, and CLI warnings.
5. **Concurrency Metrics** – expose threads/queue utilization in metadata for monitoring.
<!-- UPDATE 2025-10-12: Items 1–4 are complete; remaining focus is deeper Azure telemetry analytics and advanced visualisations (see `notes/phase6-sinks.md`, `notes/stats-refactor-plan.md`). -->

## Next Up
a. Design telemetry middleware/sink for Azure ML (Phase after safety).
b. Plan DevOps/Excel sink plugins (Phase 8?).
<!-- UPDATE 2025-10-12: Azure telemetry middleware and Excel/ZIP sinks shipped in Phase 6; future roadmap targets additional visualisation/reporting extras. -->

## Update History
- 2025-10-12 – Marked Azure telemetry, sink, and analytics work as complete and redirected next steps to visualization/backlog items.
