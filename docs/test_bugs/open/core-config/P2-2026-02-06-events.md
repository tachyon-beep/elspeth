# Test Bug Report: Rewrite weak assertions in events

## Summary

- This file tests the EventBus infrastructure used for CLI observability. The tests cover subscribe/emit functionality, multiple subscribers, handler ordering, event type isolation, exception propagation, and the NullEventBus implementation. Overall coverage is good but there are structural issues with test class naming.

## Severity

- Severity: minor
- Priority: P2
- Verdict: **REWRITE**

## Reporter

- Name or handle: Test Audit
- Date: 2026-02-06
- Audit file: docs/test_audit/tests_core_test_events.audit.md

## Test File

- **File:** `tests/core/test_events`
- **Lines:** 236
- **Test count:** 15

## Findings

- See audit file for details


## Verdict Detail

**REWRITE** - The test file has correct test logic but the class naming issue means 4 tests are not being executed. This is a silent test gap. Rename `SampleEventBusProtocol` to `TestEventBusProtocol` and `SampleEventBusEdgeCases` to `TestEventBusEdgeCases`.

## Proposed Fix

- [ ] Tests have specific, non-permissive assertions
- [ ] Each test verifies the exact expected behavior
- [ ] No "or 'error' in output" fallback patterns
- [ ] Tests fail when actual behavior differs from expected

## Tests

- Run after fix: `.venv/bin/python -m pytest tests/core/test_events -v`

## Notes

- Source audit: `docs/test_audit/tests_core_test_events.audit.md`
